#!/bin/bash

#####################################################################
#Script Name	: compile.sh                                        #
#Description	: 2021.06.09                                        #
#Args			:                                                   #
#Author			:                                                   #
#Email			: jeewoo19930315@gmail.com                          #
#Blog			: azabell.github.io                                 #
#####################################################################

catch_name()
{
	echo -n "USER NAME : "
	whoami > whoami.txt
	cat whoami.txt
	cat whoami.txt >> whoami_saved.txt
}

run_main()
{
	echo "-------------------------------------------------------------\n"
	echo "만나서 반갑습니다."
	echo "-------------------------------------------------------------\n"
	echo "make 명령어를 자동실행합니다. -------------------------------\n"
	echo "-------------------------------------------------------------\n"
	make
	echo " ------------------------------------------------------------\n"
	echo " gcc -o main main.c error_functions.o를 자동실행----\n"
	echo " ------------------------------------------------------------\n"
	gcc -o main main.c error_functions.o
	echo " ------------------------------------------------------------\n"
	echo " -------------이제 정보를 기입하세요.------------------------\n"
	echo " ------------------------------------------------------------\n"

	./main


	echo "-------------------------------------------------------------\n"
	echo "------------------저장된 정보를 보여드립니다.----------------\n"
	cat whoami_saved.txt
	echo "-------------------------------------------------------------\n"
	echo "-------------text file입니다.--------------------------------\n"
	cat notepad.txt
	echo "-------------------------------------------------------------\n"
	echo "------------------저장된 정보를 로그에 저장시킵니다.---------\n"
	cat notepad.txt >> Log.txt
	echo "-------------------------------------------------------------\n"
	echo "------------------Log file 정보를 열람합니다.----------------\n"
	cat Log.txt

	echo "=============================================================\n"
	echo "makef file로 생성된 잔여 파일들을 자동삭제합니다. \n"
	echo "=============================================================\n"

	make clean
}

catch_name
run_main

